<!DOCTYPE html>
<html lang="de" >
  <head>
    <title><%= @title %></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <%= render 'application/favicon' %>
    <%= render 'application/meta' %>
    <%= render 'application/tag_manager' %>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <style>
      @charset "UTF-8";html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{-webkit-tap-highlight-color:transparent}a{color:#337ab7;text-decoration:none}a:focus,a:hover{color:#23527c;text-decoration:underline}a:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}img{vertical-align:middle}hr{margin-top:20px;margin-bottom:20px;border:0;border-top:1px solid #eee}.alert,.notice{display:none}h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-weight:500;margin:0!important}.subheader,a,p,span{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-weight:400;font-size:14px;line-height:20px}.font-loaded .subheader,.font-loaded a,.font-loaded h1,.font-loaded h2,.font-loaded h3,.font-loaded h4,.font-loaded h5,.font-loaded h6,.font-loaded p,.font-loaded span{font-family:hero-new!important}.font-loaded td{font-family:hero-new!important;font-size:14px}h1{font-size:20px!important;line-height:28px!important}h2{font-size:16px!important;line-height:24px!important}.subheader{color:#757575}.coverimage-container{width:100vw;height:calc(100vw / 1.7);max-height:70vh;overflow:hidden;z-index:0!important;margin:0;background-size:cover}.blur-img-container{width:100vw;height:58.824vw;position:relative}.small-img{height:110%;width:110%;position:absolute;top:-5%;left:-5%;opacity:1;filter:blur(10px);transition:all ease .7s;z-index:1}.big-img{height:100%;width:100%;position:absolute;top:0;left:0;z-index:0;opacity:1!important}.loaded .small-img{opacity:0;height:100%;width:100%;position:absolute;top:0;left:0}.cover-slick{position:fixed!important;width:100vw;height:calc(100vw / 1.7);max-height:70vh}.slick-track{height:calc(100vw / 1.7)}.coverimage{position:fixed;width:100vw;height:calc(100vw / 1.7);color:transparent!important}.fadein{opacity:0;transition:opacity .3s ease-in}#back{position:fixed;top:20px;left:20px;z-index:1}a:focus,a:hover{color:currentcolor!important;text-decoration:none!important}.card-body{margin-top:-10px;padding:10px;background:#fff;border-radius:10px 10px 0 0;z-index:10;position:relative}.card-body.event{margin-top:-10px;padding:10px;background:#fff;border-radius:10px 10px 0 0;z-index:10;position:relative;padding-bottom:60px}.card-body>a,.card-body>div{margin-bottom:10px}.card-head{display:flex;display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:10px}.card-head>div{margin:0 10px 0 0;flex-grow:1}.social-button{display:flex;justify-content:center;align-items:center;background:#fff;box-shadow:0 0 5px 0 #d1d1d6;border-radius:5px;height:40px;width:40px}.oh-container{width:100%}.oh-head{display:flex;flex-direction:row;justify-content:space-between;align-items:center;cursor:pointer;color:#000;text-decoration:none!important;background:#fff}.oh-icon{height:40px;margin-top:4px}.oh-head-img{height:40px;width:40px;border-radius:20px}.oh-button{margin-right:5px}.oh-button.open{transform:rotate(180deg)}.oh-body{display:none}.oh-body table{width:100%;margin-top:10px}.oh-body tr{margin-bottom:10px}.oh-body td{padding-bottom:10px}.oh-head>div{margin:0 10px;flex-grow:1}.description-container p{height:100px;overflow:hidden;position:relative;text-align:justify;color:#000}.description-container p:after{position:absolute;bottom:0;left:0;height:100%;width:100%;content:"";background:linear-gradient(to top,#fff 0,rgba(255,255,255,0) 70%);pointer-events:none}.description-container.open p:after{background:linear-gradient(to top,rgba(255,255,255,0) 0,rgba(255,255,255,0) 70%)}.description-container.open p{height:auto}.description-container div{width:100%;text-align:center;margin-top:-15px;color:#757575}.description-container div:before{content:'Weiter lesen'}.description-container.open div:before{content:'Weniger anzeigen'}.description-container{margin-bottom:10px}.performer-body #description{text-align:center}.map-holder{overflow:hidden;border-radius:5px;margin-bottom:10px}.event-holder{margin:10px 0}.slick-carousel{width:100%;height:160px!important;overflow:hidden!important}.preview{display:block;position:relative;width:225px!important;height:132px!important;overflow:hidden;margin-right:10px;margin-bottom:20px;background-image:url(/images/blurred-image.jpg);border-radius:5px}.preview:last-child{margin-right:0}.preview:hover{text-decoration:none}.preview-inner{position:relative;top:73px;left:0;z-index:10;padding:10px;padding-top:40px;width:calc(100%);height:calc(100% - 20px);transition:.5s ease;background-image:-webkit-linear-gradient(rgba(0,0,0,0) 10%,rgba(0,0,0,.9) 100%);background-image:-o-linear-gradient(rgba(0,0,0,0) 10%,rgba(0,0,0,.9) 100%);background-image:linear-gradient(rgba(0,0,0,0) 10%,rgba(0,0,0,.9) 100%)}.preview-inner.hover{top:40px}.preview-inner>div{display:flex;flex-direction:row;justify-content:space-between}.preview-inner>div>h4{font-size:14px;color:#fff;line-height:16px;margin:0;margin-bottom:5px;text-decoration:none}.preview-inner>div>span{font-size:14px;color:#fff;line-height:16px;margin:0;margin-bottom:5px;font-weight:400;text-decoration:none;text-align:end}.preview-inner>p{color:#fff;font-size:12px;line-height:16px;margin:0}.preview figure{position:absolute;width:100%;min-height:100%;top:-11%;left:-18%;color:transparent}.slick-next,.slick-prev{position:absolute;display:block;height:20px;width:20px;line-height:0;font-size:0;cursor:pointer;background:0 0;color:transparent;top:50%;z-index:10;-webkit-transform:translate(0,-50%);-ms-transform:translate(0,-50%);transform:translate(0,-50%);padding:0;border:none;outline:0}.slick-next:focus,.slick-next:hover,.slick-prev:focus,.slick-prev:hover{outline:0;background:0 0;color:transparent}.slick-next:focus:before,.slick-next:hover:before,.slick-prev:focus:before,.slick-prev:hover:before{opacity:1}.slick-next.slick-disabled:before,.slick-prev.slick-disabled:before{opacity:.5}.slick-next:before,.slick-prev:before{font-size:20px;line-height:1;color:#fff;opacity:.75;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.slick-prev{left:10px}.slick-prev:before{content:'←'}.slick-next{right:10px}.slick-next:before{content:'→'}.slick-dots{position:absolute;bottom:-15px;list-style:none;display:block;text-align:center;padding:0;margin:0;width:100%}.slick-dots li{position:relative;display:inline-block;height:20px;width:20px;margin:0 5px;padding:0;cursor:pointer}.slick-dots li button{border:0;background:0 0;display:block;height:20px;width:20px;outline:0;line-height:0;font-size:0;color:transparent;padding:5px;cursor:pointer}.slick-dots li button:focus,.slick-dots li button:hover{outline:0}.slick-dots li button:focus:before,.slick-dots li button:hover:before{opacity:1}.slick-dots li button:before{position:absolute;top:0;left:0;content:"•";width:20px;height:20px;font-size:12px;line-height:20px;text-align:center;color:#7e5c77;opacity:.25;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.slick-dots li.slick-active button:before{color:#7e5c77;opacity:1}.performer-image-container{position:relative;width:100%;height:200px;display:flex;align-content:center;justify-content:center;margin-top:25px;margin-bottom:10px}.performer-image{position:fixed;width:200px;height:200px;border-radius:100px}.card-head.centered{text-align:center}.social-container{display:flex;align-content:center;justify-content:center}.social-container>.social-button{margin:0 5px}.performer-body{padding:0 10px;background:#fff;max-width:1024px;margin:auto}.footer{position:fixed;bottom:0;width:100vw;height:50px;background-image:linear-gradient(-180deg,rgba(255,255,255,0) 30%,#fff 100%);z-index:11;padding:0 10px 10px 10px}.footer-link{display:block;height:100%;width:100%;background:#dd2476;border-radius:5px;font-size:16px;color:#fff!important;line-height:24px;padding:8px;text-align:center}.ticket-head{margin-top:20px!important;display:block;width:100vw;text-align:center}.ticket-body{padding:10px;margin-top:20px}.ticket-body>a{margin-bottom:10px}.price-tag{font-size:16px;color:#000;text-align:right;line-height:24px;margin:0 10px}.slick-slider{position:relative;display:block;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-ms-touch-action:pan-y;touch-action:pan-y;-webkit-tap-highlight-color:transparent}.slick-list{position:relative;display:block;overflow:hidden;margin:0;padding:0}.slick-list:focus{outline:0}.slick-list.dragging{cursor:pointer;cursor:hand}.slick-slider .slick-list,.slick-slider .slick-track{-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.slick-track{position:relative;top:0;left:0;display:block;margin-left:auto;margin-right:auto}.slick-track:after,.slick-track:before{display:table;content:''}.slick-track:after{clear:both}.slick-loading .slick-track{visibility:hidden}.slick-slide{display:none;float:left;height:100%;min-height:1px}[dir=rtl] .slick-slide{float:right}.slick-slide img{display:block}.slick-slide.slick-loading img{display:none}.slick-slide.dragging img{pointer-events:none}.slick-initialized .slick-slide{display:block}.slick-loading .slick-slide{visibility:hidden}.slick-vertical .slick-slide{display:block;height:auto;border:1px solid transparent}.slick-arrow.slick-hidden{display:none}.share-default{display:none;position:fixed;width:100vw;height:100vh;background:rgba(0,0,0,.5);top:0;left:0;z-index:100;overflow:hidden}.share-default.active{display:block}.share-default .share-default-container{position:absolute;width:100%;padding:20px;border-top-left-radius:4px;border-top-right-radius:4px;background:#fff;bottom:-270px;left:0;transition:all ease .5s}.share-default .share-default-container.active{bottom:0;left:0}.sharebutton{display:block;width:100%;margin-bottom:10px;color:#000;font-size:14px;line-height:24px}.sharebutton div{display:inline-block;width:30px;margin-right:20px;justify-content:center}.sharebutton img{height:24px}.closeshare{display:block;width:100%;font-size:14px;line-height:24px;text-align:center}.share-default-head h3{text-align:center;font-size:18px;line-height:18px;padding-bottom:10px}.coverimage-container-performer{width: 100vw;height: 100vw;max-height: 70vh;overflow: hidden;z-index: 0 !important;margin: 0;background-size: cover}
    </style>
    <meta name="theme-color" content="#000000" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSNLS2Z"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <%= yield %>
    <div class="share-default">
      <div class="share-default-container">
        <div class="share-default-head">
          <h3>Seite teilen</h3>
        </div>
        <a href="" id="facebookshare" class="sharebutton" target="_blank"><div><img src="/images/facebook.svg" alt="Facebook" target="_blank" rel="noreferrer"></div> Auf Facebook teilen</a>
        <a href="" id="messengershare" class="sharebutton"><div><img src="/images/messenger.svg" alt="Messenger" target="_blank" rel="noreferrer"></div> Im Messenger teilen</a>
        <a href="" id="twittershare" class="sharebutton"><div><img src="/images/twitter.svg" alt="Twitter" target="_blank" rel="noreferrer"></div> Auf Twitter teilen</a>
        <a href="" id="whatsappshare" class="sharebutton"><div><img src="/images/whatsapp.svg" alt="Whatsapp" target="_blank" rel="noreferrer"></div> Auf Whatsapp teilen</a>
        <a onclick="copyToClipboard()" id="linkshare" class="sharebutton"><div><img src="/images/share.svg" alt="Link kopieren"></div> Link kopieren</a>
        <a onclick="closeShareDefault()" class="closeshare">Abbrechen</a>
      </div>
    </div>
  </body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <form action="/page-view" method="post" id="pageview" hidden>
    <input type="text" name="referrer" id="pv_referrer">
    <input type="text" name="params" id="pv_params">
    <input type="text" name="path" id="pv_path">
    <input type="text" name="session_token" id="pv_session_token">
    <input type="text" name="user_agent" id="pv_user_agent">
    <input type="text" name="user_id" id="pv_user_id">
  </form>
  <script> 
  // Description  
  $(document).ready(function(){
    if($('#description > p').outerHeight() > 100){
      $('#description').addClass('description-container');
      $('.description-container').on('click', function(){
        $(this).toggleClass('open');
      });
  }});

  //Events  
  $('.preview').mouseover(function(){
    if (!navigator.userAgent.includes('iPhone') || !navigator.userAgent.includes('Android')) {
        $(this).children().toggleClass('hover');
  }});
  $('.preview').mouseout(function(){
    if (!navigator.userAgent.includes('iPhone') || !navigator.userAgent.includes('Android')) {
        $(this).children().toggleClass('hover');
  }});

  // Scroll Animation
  $(document).ready(function(){  
    $(window).scroll(function(){
          var scroll = $(this).scrollTop();
          if(scroll < 0) {
            var scale = (scroll/120) * (-1) + 1;
            $('.cover-slick').css('transform', 'scale(' + scale + ')');
          } else if(scroll > 0) {
            var scale = (scroll / 2 * (-1));
            $('.cover-slick').css('top', scale );
        }});
  });
    //Inbound Link
    $('[data-type="inbound-link"]').on('click', function(event){
      event.preventDefault();
      var href = $(this).attr('href') + '?from=' + window.location.pathname;
      window.location.href = href;
    });
  
      //Back Link
      var thisurl = new URL(document.location.href);
      var from = thisurl.searchParams.get("from");
      if (from !== null) {
        $('#back').attr("href", from)
        $('#back').css('display', 'inline-block');
      }
  
    function readCookie(name) {
      var nameEQ = name + "=";
      var ca = document.cookie.split(';');
      for(var i=0;i < ca.length;i++) {
          var c = ca[i];
          while (c.charAt(0)==' ') c = c.substring(1,c.length);
          if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
      }
      return null;
    }

    if(navigator.userAgent.includes('iPhone') || navigator.userAgent.includes('Android')) {
      $('.preview-inner').addClass('hover');
    }
    
    //Sharing
    $('document').ready(function(){
      $('#facebookshare').attr('href', 'https://www.facebook.com/sharer/sharer.php?u=' + window.location.origin + window.location.pathname + "?f=share");
      $('#messengershare').attr('href', 'fb-messenger://share/?link=' + window.location.origin + window.location.pathname + "?f=share");
      $('#twittershare').attr('href', 'https://twitter.com/share?text=Sieh dir <% if @type == 'Event' %>dieses<% elsif @type == 'Location' %>diese<% else %>diesen<% end %><%= @type %> an ' + window.location.origin + window.location.pathname + "?f=share");
      $('#whatsappshare').attr('href', 'whatsapp://send/?text=Sieh dir dieses <% if @type == 'Event' %>dieses<% elsif @type == 'Location' %>diese<% else %>diesen<% end %><%= @type %> an ' + window.location.origin + window.location.pathname + "?f=share");
    });
    
    $('.share-default-container a').on('click', function(){
      closeShareDefault();
    });
   
   function loadSlick() {  
       $('.slick-carousel').slick({
        dots: false,
        infinite: false,
        slidesToScroll: 1,
        slidesToShow: 1,
        variableWidth: true,
        speed: 300
      });
    } 
      
    function loadUnveil() {
      $("img").unveil();
      $("iframe").unveil();
    }
      
    function shareThisPage() {
      if(!navigator.share) {
        shareDefault();
      } else {
        shareNative();
      }
    }

    const getOpenGraphData = function (property) {
          return document.querySelector(`meta[property="${property}"]`).getAttribute('content')
    };
    
    function shareDefault(){
      $('.share-default').addClass('active');
      setTimeout(function(){
        $('.share-default-container').addClass('active');
      }, 50);
    }
    
    function closeShareDefault(){      
      $('.share-default-container').removeClass('active');
      setTimeout(function(){
        $('.share-default').removeClass('active');
      }, 500);
    }
    
    function shareNative(){
      navigator.share({
          title: getOpenGraphData('og:title'),
          text: getOpenGraphData('og:description'),
          url: window.location.origin + window.location.pathname + "?from=share"
      }).then(() => {
          // webShareTestEl.children[0].innerText = 'done';
          // resetButton();
      })
      .catch(error => {
              console.log('Error sharing:', error);

              // webShareTestEl.children[0].innerText = 'error';
              // resetButton();
      });
    }
    
    function copyToClipboard() {
      var $temp = $("<input>");
      $("body").append($temp);
      $temp.val(window.location.origin + window.location.pathname + '?from=share').select();
      document.execCommand("copy");
      $temp.remove();
      alert('In die Zwischenablage kopiert.')
    }
  </script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js" async defer onload="loadSlick()" ></script>
  <script type="text/javascript" src="/jquery.unveil.js" async onload="loadUnveil()" ></script>
  <script>
  // PageView
    var url_string = window.location.href;
    var url = new URL(url_string);
    var f = url.searchParams.get("f");
    $('#pv_referrer').val(document.referrer);
    $('#pv_params').val(f);
    $('#pv_path').val(document.location.pathname);
    $('#pv_session_token').val(readCookie("session_token"));
    $('#pv_user_agent').val(navigator.userAgent);
    $('#pv_user_id').val(<%= @user.id %>);

    $(document).ready(function(){
      $.ajax({
          type: 'POST',
          url: '/pageview',
          data: $("#pageview").serialize(),
          error: function(){
          }	
      });   
    });
  </script>
  <script>
    // Fontload
    $(document).ready(function(){
      var giftofspeed = document.createElement('link');
      giftofspeed.rel = 'stylesheet';
      giftofspeed.href = 'https://use.typekit.net/roz0mei.css';
      giftofspeed.type = 'text/css';
      giftofspeed.onload = $('body').addClass('font-loaded');
      var godefer = document.getElementsByTagName('link')[0];
      godefer.parentNode.insertBefore(giftofspeed, godefer);
    });
  </script>
</html>
